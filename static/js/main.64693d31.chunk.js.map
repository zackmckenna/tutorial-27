{"version":3,"sources":["mintbean.png","components/CameraFeed.jsx","components/MintNav.jsx","App.js","index.js"],"names":["module","exports","CameraFeed","videoPlayer","useRef","canvas","useEffect","a","console","log","navigator","mediaDevices","enumerateDevices","cameras","processDevices","getCamera","devices","forEach","device","label","setDevice","deviceId","getUserMedia","audio","video","then","stream","current","srcObject","catch","err","play","turnCameraOn","className","Row","Col","style","borderRadius","ref","width","heigh","Button","onClick","getContext","drawImage","height","getVideoTracks","track","stop","e","toBlob","blob","anchor","document","createElement","download","href","URL","createObjectURL","click","revokeObjectURL","MintNav","Navbar","bg","variant","Brand","src","logo","alt","Toggle","aria-controls","Collapse","id","Nav","Link","target","rel","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.64693d31.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mintbean.cf18b629.png\";","import React, { useEffect, useRef } from 'react';\nimport { Button, Col, Row } from 'react-bootstrap'\n\nconst CameraFeed = () => {\n  const videoPlayer = useRef(null)\n  const canvas = useRef(null)\n\n  useEffect(() => {\n    console.log(navigator.mediaDevices.enumerateDevices())\n    async function getCamera() {\n      console.log('enumerate devices:', navigator.mediaDevices.enumerateDevices())\n      const cameras = await navigator.mediaDevices.enumerateDevices()\n      processDevices(cameras)\n    }\n    getCamera()\n  }, [])\n\n  const processDevices = (devices) => {\n    devices.forEach(device => {\n      console.log('Device:', device.label)\n      setDevice(device)\n    })\n  }\n\n  const setDevice = async (device) => {\n    const { deviceId } = device\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: false, video: { deviceId } })\n      .then(stream => videoPlayer.current.srcObject = stream)\n      .catch(err => console.log(err))\n    videoPlayer.current.play()\n  }\n\n  const turnCameraOff = () => {\n    videoPlayer.current.srcObject.getVideoTracks().forEach(track => track.stop())\n  }\n\n  const turnCameraOn = async () => {\n    const cameras = await navigator.mediaDevices.enumerateDevices()\n    processDevices(cameras)\n  }\n\n  const takePhoto = () => {\n    const context = canvas.current.getContext('2d')\n    context.drawImage(videoPlayer.current, 0, 0, canvas.current.width, canvas.current.height)\n  }\n\n\n  const savePhoto = () => {\n    canvas.current.toBlob(\n      blob => {\n        const anchor = document.createElement('a')\n        anchor.download = 'my-file-name.jpg' // optional, but you can give the file a name\n        anchor.href = URL.createObjectURL(blob)\n        anchor.click(); // âœ¨ magic!\n        URL.revokeObjectURL(anchor.href) // remove it from memory and save on memory! ðŸ˜Ž\n      },\n      'image/jpeg',\n      0.9,\n    )\n  }\n\n  return (\n    <div className=\"c-camera-feed\">\n      <Row>\n        <Col>\n          <div className=\"c-camera-feed__viewer\">\n            <video style={{ borderRadius: '3px' }} ref={videoPlayer} width=\"680\" heigh=\"360\" />\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Button className='btn-warning rounded mb-2 ' onClick={() => takePhoto()}>Take photo!</Button>\n        </Col>\n      </Row>\n      <Button className='btn-danger mr-2' onClick={() => turnCameraOff()}>Turn off Camera</Button>\n      <Button className='btn-success mr-2' onClick={() => turnCameraOn()}>Turn on Camera</Button>\n      <Button onClick={(e) => savePhoto(e)}>Save photo!</Button>\n      <div className=\"c-camera-feed__stage mt-2\">\n        <canvas className='canvas' width=\"680\" height=\"360\" ref={canvas} />\n      </div>\n    </div>\n  )\n}\n\nexport default CameraFeed\n","import React from 'react'\nimport { Navbar, Nav } from 'react-bootstrap'\nimport logo from '.././mintbean.png';\n\nconst MintNav = () => {\n  return (\n  <Navbar bg=\"dark\" variant=\"dark\">\n    <Navbar.Brand href=\"#home\">\n      <img\n        src={logo}\n        width=\"30\"\n        height=\"30\"\n        className=\"d-inline-block align-top\"\n        alt=\"React Bootstrap logo\"\n      />\n      {' '}\n      Mintbean\n    </Navbar.Brand>\n    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n    <Navbar.Collapse id=\"basic-navbar-nav\">\n    <Nav className=\"mr-auto\">\n    {/* <Nav.Link target=\"_blank\" rel=\"noopener noreferrer\" href=\"#link\">CareerHack 7-27</Nav.Link> */}\n    <Nav.Link target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/zackmckenna/tutorial-27\">Repo</Nav.Link>\n    </Nav>\n    </Navbar.Collapse>\n  </Navbar>\n  )\n}\n\nexport default MintNav\n","import React from 'react'\nimport './styles/index.css'\n\nimport CameraFeed from './components/CameraFeed'\nimport MintNav from './components/MintNav'\n\nconst App = () => {\n\n  return (\n    <>\n      <MintNav />\n      <div className=\"App\">\n        <h1 className='mt-2 mb-2'>Camera Browser API Tutorial</h1>\n        <CameraFeed />\n      </div>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './App'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}